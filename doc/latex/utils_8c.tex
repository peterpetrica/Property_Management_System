\hypertarget{utils_8c}{}\doxysection{src/utils/utils.c 文件参考}
\label{utils_8c}\index{src/utils/utils.c@{src/utils/utils.c}}
{\ttfamily \#include \char`\"{}utils/utils.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$openssl/sha.\+h$>$}\newline
{\ttfamily \#include $<$openssl/evp.\+h$>$}\newline
{\ttfamily \#include $<$openssl/rand.\+h$>$}\newline
utils.\+c 的引用(Include)关系图\+:
% FIG 0
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{utils_8c_af5263e9c5ed8b07e92367144201731b2}{generate\+\_\+uuid}} (char $\ast$out)
\begin{DoxyCompactList}\small\item\em 生成\+UUID字符串 \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{utils_8c_ab2d374a6232a32aad9981a4344353699}{hash\+\_\+password}} (const char $\ast$password, char $\ast$hashed\+\_\+output, size\+\_\+t output\+\_\+size)
\begin{DoxyCompactList}\small\item\em 存储密码（当前为明文存储） \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{utils_8c_a223fd223ee25faf39a073768f3632475}{verify\+\_\+password}} (const char $\ast$password, const char $\ast$hash)
\begin{DoxyCompactList}\small\item\em 验证密码 \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{utils_8c_a2ea7f5b7e4bffb256d36fb30baf842bf}{format\+\_\+time}} (time\+\_\+t time\+\_\+val, char $\ast$buffer, int buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em 格式化时间为字符串 \end{DoxyCompactList}\item 
time\+\_\+t \mbox{\hyperlink{utils_8c_a3586704e4679491ee2a686e9cd77f63f}{parse\+\_\+time}} (const char $\ast$time\+\_\+str)
\begin{DoxyCompactList}\small\item\em 从字符串解析时间 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{utils_8c_a10ee73a80b3e7b76c27b20a09769a801}{safe\+\_\+strcpy}} (char $\ast$dest, const char $\ast$src, size\+\_\+t dest\+\_\+size)
\begin{DoxyCompactList}\small\item\em 安全字符串复制 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{函数说明}
\mbox{\Hypertarget{utils_8c_a2ea7f5b7e4bffb256d36fb30baf842bf}\label{utils_8c_a2ea7f5b7e4bffb256d36fb30baf842bf}} 
\index{utils.c@{utils.c}!format\_time@{format\_time}}
\index{format\_time@{format\_time}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{format\_time()}{format\_time()}}
{\footnotesize\ttfamily char$\ast$ format\+\_\+time (\begin{DoxyParamCaption}\item[{time\+\_\+t}]{time\+\_\+val,  }\item[{char $\ast$}]{buffer,  }\item[{int}]{buffer\+\_\+size }\end{DoxyParamCaption})}



格式化时间为字符串 


\begin{DoxyParams}{参数}
{\em time\+\_\+val} & 时间值 \\
\hline
{\em buffer} & 输出缓冲区 \\
\hline
{\em buffer\+\_\+size} & 缓冲区大小 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
char$\ast$ 格式化后的时间字符串，失败返回\+NULL 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8c_af5263e9c5ed8b07e92367144201731b2}\label{utils_8c_af5263e9c5ed8b07e92367144201731b2}} 
\index{utils.c@{utils.c}!generate\_uuid@{generate\_uuid}}
\index{generate\_uuid@{generate\_uuid}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{generate\_uuid()}{generate\_uuid()}}
{\footnotesize\ttfamily void generate\+\_\+uuid (\begin{DoxyParamCaption}\item[{char $\ast$}]{out }\end{DoxyParamCaption})}



生成\+UUID字符串 


\begin{DoxyParams}{参数}
{\em out} & 输出缓冲区，长度至少为37字节(36个字符+结束符) \\
\hline
\end{DoxyParams}
这是这个函数的调用关系图\+:
% FIG 1
\mbox{\Hypertarget{utils_8c_ab2d374a6232a32aad9981a4344353699}\label{utils_8c_ab2d374a6232a32aad9981a4344353699}} 
\index{utils.c@{utils.c}!hash\_password@{hash\_password}}
\index{hash\_password@{hash\_password}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{hash\_password()}{hash\_password()}}
{\footnotesize\ttfamily bool hash\+\_\+password (\begin{DoxyParamCaption}\item[{const char $\ast$}]{password,  }\item[{char $\ast$}]{hashed\+\_\+output,  }\item[{size\+\_\+t}]{output\+\_\+size }\end{DoxyParamCaption})}



存储密码（当前为明文存储） 


\begin{DoxyParams}{参数}
{\em password} & 原始密码 \\
\hline
{\em hashed\+\_\+output} & 输出缓冲区 \\
\hline
{\em output\+\_\+size} & 缓冲区大小 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
bool 操作是否成功 
\end{DoxyReturn}
这是这个函数的调用关系图\+:
% FIG 2
\mbox{\Hypertarget{utils_8c_a3586704e4679491ee2a686e9cd77f63f}\label{utils_8c_a3586704e4679491ee2a686e9cd77f63f}} 
\index{utils.c@{utils.c}!parse\_time@{parse\_time}}
\index{parse\_time@{parse\_time}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{parse\_time()}{parse\_time()}}
{\footnotesize\ttfamily time\+\_\+t parse\+\_\+time (\begin{DoxyParamCaption}\item[{const char $\ast$}]{time\+\_\+str }\end{DoxyParamCaption})}



从字符串解析时间 


\begin{DoxyParams}{参数}
{\em time\+\_\+str} & 时间字符串，格式为\char`\"{}\+YYYY-\/\+MM-\/\+DD HH\+:\+MM\+:\+SS\char`\"{}或\char`\"{}\+YYYY-\/\+MM-\/\+DD\char`\"{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
time\+\_\+t 解析后的时间，失败返回-\/1 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8c_a10ee73a80b3e7b76c27b20a09769a801}\label{utils_8c_a10ee73a80b3e7b76c27b20a09769a801}} 
\index{utils.c@{utils.c}!safe\_strcpy@{safe\_strcpy}}
\index{safe\_strcpy@{safe\_strcpy}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{safe\_strcpy()}{safe\_strcpy()}}
{\footnotesize\ttfamily void safe\+\_\+strcpy (\begin{DoxyParamCaption}\item[{char $\ast$}]{dest,  }\item[{const char $\ast$}]{src,  }\item[{size\+\_\+t}]{dest\+\_\+size }\end{DoxyParamCaption})}



安全字符串复制 


\begin{DoxyParams}{参数}
{\em dest} & 目标字符串 \\
\hline
{\em src} & 源字符串 \\
\hline
{\em dest\+\_\+size} & 目标缓冲区大小 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{utils_8c_a223fd223ee25faf39a073768f3632475}\label{utils_8c_a223fd223ee25faf39a073768f3632475}} 
\index{utils.c@{utils.c}!verify\_password@{verify\_password}}
\index{verify\_password@{verify\_password}!utils.c@{utils.c}}
\doxysubsubsection{\texorpdfstring{verify\_password()}{verify\_password()}}
{\footnotesize\ttfamily bool verify\+\_\+password (\begin{DoxyParamCaption}\item[{const char $\ast$}]{password,  }\item[{const char $\ast$}]{hash }\end{DoxyParamCaption})}



验证密码 


\begin{DoxyParams}{参数}
{\em password} & 待验证的密码 \\
\hline
{\em hash} & 存储的密码（当前为明文） \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
bool 密码是否匹配 
\end{DoxyReturn}
